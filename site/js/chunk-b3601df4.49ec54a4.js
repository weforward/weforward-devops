(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3601df4"],{5607:function(s,e,t){"use strict";var i=t("e25e"),a=t.n(i);a.a},"6f19":function(s,e,t){"use strict";t.r(e);var i=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("WoolShowmodal",{attrs:{isshow:s.isshow,isshowcloser:!0},on:{tapCloser:function(e){return s.$emit("toggle")}}},[t("div",{staticClass:"user-list"},[t("div",{staticClass:"input-box"},[t("div",{staticClass:"titlebar flexlayout"},[t("span",[s._v("请选择用户")])]),"add"==s.op?t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.keywords,expression:"keywords"}],staticClass:"search-input userSearch",attrs:{placeholder:"请根据关键字进行搜索"},domProps:{value:s.keywords},on:{input:function(e){e.target.composing||(s.keywords=e.target.value)}}}),s.userList.length==s.pagesize?t("span",[t("span",{staticClass:"userPage"},[s._v("上一页")]),t("span",{staticClass:"userPage"},[s._v("下一页")])]):s._e()]):s._e(),t("section",{staticClass:"label-list"},[s._l(s.userList,(function(e,i){return t("div",{key:i,staticClass:"label-box"},[t("label",{staticClass:"radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.user,expression:"user"}],attrs:{type:"radio",name:"type"},domProps:{value:e,checked:s._q(s.user,e)},on:{change:function(t){s.user=e}}}),s._v("\n\t\t\t\t\t\t\t"+s._s(e.name)+" ("+s._s(e.loginname)+")\n\t\t\t\t\t\t")])])})),0==s.userList.length?t("div",{staticClass:"nodata"},[s._v("暂无数据")]):s._e()],2)]),t("div",{staticClass:"handle-btn"},["add"==s.op?t("button",{staticClass:"add-btn",on:{click:s.addUser}},[s._v("添加并继续")]):s._e(),"remove"==s.op?t("button",{staticClass:"add-btn",on:{click:s.removeUser}},[s._v("移除并继续")]):s._e()])])])},a=[],n={name:"UserList",props:{isshow:{type:Boolean},op:{type:String,default:function(){return"add"}},id:{type:String},users:{type:Array}},data:function(){return{user:"",userList:[],keywords:"",page:1,pagesize:50}},components:{WoolShowmodal:function(){return t.e("chunk-41c82f40").then(t.bind(null,"59c5"))}},watch:{keywords:function(){this.requestList()}},methods:{getOp:function(s){"remove"==s?(this.$forceUpdate(),this.userList=this.users):this.requestList()},requestList:function(){var s=this;this.userList=[];var e={k:this.keywords,p:this.page,pagesize:this.pagesize},t="?method=/devops/system/users";this.$wf.post(t,e).then((function(e){return s.userList=e.items||[]})).catch((function(e){return s.$wool.showwarn(e.message)}))},addUser:function(){var s={op:"adduser",uid:this.user.id,id:this.id};this.requestUser(s,"添加")},removeUser:function(){var s={op:"removeuser",uid:this.user.id,id:this.id};this.requestUser(s,"移除")},requestUser:function(s,e){var t=this.$wool.showloading(e+"中"),i="?method=/devops/system/group";this.$wf.post(i,s).then((function(s){return t.msgsucc(e+"成功").hide()})).catch((function(s){return t.msgwarn(s.message).hide()}))}}},r=n,o=(t("5607"),t("2877")),u=Object(o["a"])(r,i,a,!1,null,"3fcaabe0",null);e["default"]=u.exports},e25e:function(s,e,t){}}]);