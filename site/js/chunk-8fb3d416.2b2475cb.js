(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fb3d416"],{"6f19":function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("WoolShowmodal",{attrs:{isshow:s.isshow,isshowcloser:!0},on:{tapCloser:function(t){return s.$emit("toggle")}}},[e("div",{staticClass:"user-list"},[e("div",{staticClass:"input-box"},[e("div",{staticClass:"titlebar flexlayout"},[e("span",[s._v("请选择用户")])]),"add"==s.op?e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.keywords,expression:"keywords"}],staticClass:"search-input userSearch",attrs:{placeholder:"请根据关键字进行搜索"},domProps:{value:s.keywords},on:{input:function(t){t.target.composing||(s.keywords=t.target.value)}}}),s.userList.length==s.pagesize?e("span",[e("span",{staticClass:"userPage"},[s._v("上一页")]),e("span",{staticClass:"userPage"},[s._v("下一页")])]):s._e()]):s._e(),e("section",{staticClass:"label-list"},[s._l(s.userList,(function(t,i){return e("div",{key:i,staticClass:"label-box"},[e("label",{staticClass:"radio"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.user,expression:"user"}],attrs:{type:"radio",name:"type"},domProps:{value:t,checked:s._q(s.user,t)},on:{change:function(e){s.user=t}}}),s._v("\n\t\t\t\t\t\t\t"+s._s(t.name)+" ("+s._s(t.loginname)+")\n\t\t\t\t\t\t")])])})),0==s.userList.length?e("div",{staticClass:"nodata"},[s._v("暂无数据")]):s._e()],2)]),e("div",{staticClass:"handle-btn"},["add"==s.op?e("button",{staticClass:"add-btn",on:{click:s.addUser}},[s._v("添加并继续")]):s._e(),"remove"==s.op?e("button",{staticClass:"add-btn",on:{click:s.removeUser}},[s._v("移除并继续")]):s._e()])])])},a=[],n={name:"UserList",props:{isshow:{type:Boolean},op:{type:String,default:function(){return"add"}},id:{type:String},users:{type:Array}},data:function(){return{user:"",userList:[],keywords:"",page:1,pagesize:50}},components:{WoolShowmodal:function(){return e.e("chunk-41c82f40").then(e.bind(null,"59c5"))}},watch:{keywords:function(){this.requestList()}},methods:{getOp:function(s){"remove"==s?(this.$forceUpdate(),this.userList=this.users):this.requestList()},requestList:function(){var s=this;this.userList=[];var t={k:this.keywords,p:this.page,pagesize:this.pagesize},e="?method=/devops/system/users";this.$wf.post(e,t).then((function(t){return s.userList=t.items||[]})).catch((function(t){return s.$wool.showwarn(t.message)}))},addUser:function(){var s={op:"adduser",uid:this.user.id,id:this.id};this.requestUser(s,"添加")},removeUser:function(){var s={op:"removeuser",uid:this.user.id,id:this.id};this.requestUser(s,"移除")},requestUser:function(s,t){var e=this.$wool.showloading(t+"中"),i="?method=/devops/system/group";this.$wf.post(i,s).then((function(s){return e.msgsucc(t+"成功").hide()})).catch((function(s){return e.msgwarn(s.message).hide()}))}}},r=n,o=(e("a232"),e("2877")),u=Object(o["a"])(r,i,a,!1,null,"a909856e",null);t["default"]=u.exports},a232:function(s,t,e){"use strict";e("b149")},b149:function(s,t,e){}}]);