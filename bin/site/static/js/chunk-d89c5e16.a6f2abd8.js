(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d89c5e16"],{"1ed2":function(t,e,s){t.exports=s.p+"static/img/html.55fb2cc2.png"},"9a97":function(t,e,s){"use strict";s("a0ca")},a0ca:function(t,e,s){},bf76:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project_area"},[a("div",{staticClass:"query"},[a("div",{staticClass:"query_input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.page.keywords,expression:"page.keywords"}],ref:"keywords",staticClass:"input",attrs:{type:"text"},domProps:{value:t.page.keywords},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getProjectList.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.page,"keywords",e.target.value)}}}),a("el-button",{staticClass:"ml-1",attrs:{type:"primary",size:"small"},on:{click:t.getProjectList}},[t._v("查 询")])],1),a("div",{staticClass:"query_group"},[a("div",{staticClass:"query_select"},[t._v("\n        运维组：\n        "),a("SingleSelect",{attrs:{items:t.groupName},on:{select:t.selectByGroup}})],1),a("el-button",{staticClass:"ml-1",attrs:{type:"primary",size:"small"},on:{click:t.addProject}},[t._v("\n        + 添 加\n      ")])],1)]),a("table",{staticClass:"project_table"},[t._m(0),t.noData?t._e():a("tbody",t._l(t.projectList,(function(e,i){return a("tr",{key:i},[a("td",[e.name?a("span",{staticStyle:{"margin-left":"1%"},attrs:{title:e.name}},[1==e.type?a("img",{staticClass:"javamark",attrs:{src:s("f022")}}):t._e(),2==e.type?a("img",{staticClass:"htmlmark",attrs:{src:s("1ed2")}}):t._e(),a("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.name))])]):a("span",[t._v("--")])]),a("td",[e.desc?a("span",{staticClass:"desc",attrs:{title:e.desc}},[t._v(t._s(e.desc))]):a("span",[t._v("--")])]),a("td",[e.groups_to_show?a("span",{staticClass:"groups",attrs:{title:e.groups_to_show}},[t._v(t._s(e.groups_to_show))]):a("span",[t._v("--")])]),a("td",[e.owner?a("span",{staticClass:"groups",attrs:{title:e.owner.name}},[t._v(t._s(e.owner.name))]):t._e(),a("span")]),a("td",{staticClass:"caozuo_td"},[e.can_edit?a("span",{staticStyle:{"margin-right":"10px"},on:{click:function(s){return t.editProject(e)}}},[t._v("编辑")]):t._e(),a("span",{on:{click:function(s){return t.watchDetails(e)}}},[t._v("查看详情")])])])})),0),t.noData?a("tr",{staticClass:"noData"},[a("td",{attrs:{colspan:"5"}},[t._v("暂无数据")])]):t._e()]),a("AddProject",{ref:"addmodel",attrs:{obj:t.editProjectObj,isshow:t.showCreate},on:{toggle:function(e){t.showCreate=!t.showCreate},load:t.getProjectList}}),t.noData?t._e():a("PagerBar",{staticStyle:{"margin-bottom":"2%"},attrs:{page:t.page},on:{change:t.searchByPage}})],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"project_title"},[s("td",{staticStyle:{width:"15%"}},[t._v("项目")]),s("td",{staticStyle:{width:"20%"}},[t._v("描述")]),s("td",{staticStyle:{width:"15%"}},[t._v("运维组")]),s("td",{staticStyle:{width:"13%"}},[t._v("所有者")]),s("td",{staticStyle:{width:"17%"}},[t._v("操作")])])}],o={data:function(){return{page:{current:1,pagecount:1,totalCount:0,pagesize:10,keywords:""},noData:!1,projectList:[],groupName:[],groupid:"",editProjectObj:{},showCreate:!1}},methods:{getProjectList:function(){var t=this,e={page:this.page.current,page_size:this.page.pagesize,keywords:this.page.keywords,groupid:this.groupid},s=this.$wool.showloading("加载中...");this.$wf.post("devops?method=/devops/home/projects",e).then((function(e){s.hide(0),0==e.items.length?t.noData=!0:(t.noData=!1,t.projectList=e.items,t.page.current=e.page,t.page.pagecount=e.page_count,t.page.totalCount=e.count)})).catch((function(e){s.hide(0),t.$wool.showwarn(e)}))},searchByPage:function(t){this.page.current=t.page,this.getProjectList()},getGroupList:function(){var t=this;this.$wf.post("devops?method=/devops/home/groups").then((function(e){t.groupName=e.items}))},selectByGroup:function(t){this.groupid=t,this.getProjectList()},addProject:function(){this.editProjectObj={},this.showCreate=!this.showCreate},editProject:function(t){this.editProjectObj=t,this.editProjectObj["notEdit"]=!1,this.showCreate=!this.showCreate},watchDetails:function(t){this.editProjectObj=t,this.editProjectObj["notEdit"]=!0,this.showCreate=!this.showCreate}},mounted:function(){var t=this;this.getProjectList(),this.getGroupList(),this.$nextTick((function(){t.$refs.keywords.focus()}))},components:{PagerBar:function(){return s.e("chunk-22e86add").then(s.bind(null,"2f3e"))},SingleSelect:function(){return s.e("chunk-9a84efc2").then(s.bind(null,"4e15"))},AddProject:function(){return s.e("chunk-5e8d83ca").then(s.bind(null,"68f0"))}}},n=o,r=(s("9a97"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"e53816c4",null);e["default"]=c.exports},f022:function(t,e,s){t.exports=s.p+"static/img/java.b9f7cf4c.png"}}]);