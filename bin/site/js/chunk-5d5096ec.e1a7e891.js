(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d5096ec"],{3817:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABACAYAAABm8Es1AAABcElEQVR4Xu3VMW6CcBiG8c8NY8M9OIDOchAuVy+gW03qERicCMTegIEJwtSmnbrY6eFvah4P8HzyyyuubrePz/CDCKzERBx/ImJylmKClmKKSQqALd+ZYoICYMpligkKgCmXKSYoAKZcppigAJhymWKCAmDKZYoJCoAplykmKACmXKaYoACYcpliggJgymWKCQqAKZcpJigAplzmf8Xsui76vge//t+p9XodRVFElmVJbiZb5vn8FtfrNclD/T6S53lUVRWbzcvit5Ngtm0bp9Nx8Ye5d6Asy9hud4vfT4JZ13VcLu+LP8y9A/t9Gbvdk2BO0xSHw2sMw5Ac9Ol+5t+C8zxH0zQxjmMy0Kf9A0om+MBDSd6ZD3y+pKfFBLnFFBMUAFMuU0xQAEy5TDFBATDlMsUEBcCUyxQTFABTLlNMUABMuUwxQQEw5TLFBAXAlMsUExQAUy5TTFAATLlMMUEBMOUyxQQFwJTLFBMUAFNfS50PUOcVWkAAAAAASUVORK5CYII="},"5d52":function(t,s,i){"use strict";i("6e57")},"5dac":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("WoolShowmodal",{attrs:{isshow:t.isshow,isshowcloser:!0},on:{tapCloser:t.closeShowModel}},[a("div",{staticClass:"detail"},[a("div",{staticClass:"top"},[a("div",{staticClass:"title_content"},[a("span",{staticClass:"tag"},[t._v(t._s(t.serviceDetail.service_name))])]),a("div",{staticClass:"detail_content"},[a("span",{staticClass:"fr"},[t._v("持续时间：\n          "),a("span",{staticClass:"se"},[t._v(t._s(t.serviceDetail.duration))])]),a("span",{staticClass:"fr"},[t._v("服务数：\n          "),a("span",{staticClass:"se"},[t._v(t._s(t.serviceDetail.services))])]),a("span",{staticClass:"fr"},[t._v("深度：\n          "),a("span",{staticClass:"se"},[t._v(t._s(t.serviceDetail.depth))])]),a("span"),a("span",{staticClass:"fr"},[t._v("追踪ID：\n          "),a("span",{staticClass:"se"},[t._v(t._s(t.serviceDetail.id))])])])]),a("div",{staticClass:"left wt-scroll"},[a("div",{staticClass:"Root_area"},[a("div",{staticClass:"jiajian"},[0==t.serviceDetail.root.children.length?a("img",{attrs:{src:i("3817"),alt:""}}):a("img",{attrs:{src:t.showCd1?i("3817"):i("b1d9")},on:{click:function(s){return t.handleJJ("root")}}})]),a("div",{staticClass:"tag_name",on:{click:function(s){return t.clickRoot(t.serviceDetail.root)}}},[a("span",[t._v(t._s(t.serviceDetail.root.service_name))])]),a("div",{staticStyle:{width:"80%",height:"80%"}},[a("div",{staticClass:"gateway_time"},[a("span",[t._v(t._s(t.serviceDetail.root.method)+"["+t._s(t.serviceDetail.root.duration_num)+"ms]")])])])]),t._l(t.serviceDetail.root.children,(function(s,e){return t.showCd1&&0!=t.serviceDetail.root.children.length?a("div",{key:e,staticClass:"Root_area children"},[a("div",{staticClass:"jiajian "},[0==s.children.length?a("img",{attrs:{src:i("3817"),alt:""}}):a("img",{attrs:{src:t.showCd2?i("3817"):i("b1d9")},on:{click:function(s){return t.handleJJ("children")}}})]),a("div",{staticClass:"tag_name",staticStyle:{"background-color":"#A31545"},on:{click:function(i){return t.clickTag(s)}}},[a("span",[t._v(t._s(s.service_name))])]),a("div",{staticStyle:{width:"75%",height:"80%"}},[a("div",{staticClass:"gateway_time childrens"},[a("span",[t._v(t._s(s.method)+"["+t._s(s.duration_num)+"ms]")])])])]):t._e()}))],2),a("div",{staticClass:"right wt-scroll"},[a("div",{staticStyle:{"padding-bottom":"3%","border-bottom":"0.5px solid #E0E0E0"}},[a("h3",[t._v(t._s(t.itemData.service_name))])]),a("div",{staticClass:"client_box"},[a("span",{staticStyle:{"padding-top":"10px"}},[t._v("进入网关")]),a("div",{staticClass:"list_box"},[a("div",{staticClass:"list_item"},[a("span",[t._v("开始时间")]),a("span",[t._v(t._s(t.itemData.gw_start_time||"--"))])])])]),a("div",{staticClass:"client_box"},[a("span",[t._v("进入服务")]),a("div",{staticClass:"list_box"},[a("div",{staticClass:"list_item"},[a("span",[t._v("开始时间")]),a("span",[t._v(t._s(t.itemData.ms_start_time||"--"))])]),a("div",{staticClass:"list_item"},[a("span",[t._v("基准时间")]),a("span",[t._v(t._s(t.itemData.ms_start_relative_time||"--"))])])])]),a("div",{staticClass:"client_box"},[a("span",[t._v("离开服务")]),a("div",{staticClass:"list_box"},[a("div",{staticClass:"list_item"},[a("span",[t._v("开始时间")]),a("span",[t._v(t._s(t.itemData.ms_end_time||"--"))])]),a("div",{staticClass:"list_item"},[a("span",[t._v("基准时间")]),a("span",[t._v(t._s(t.itemData.ms_end_relative_time||"--"))])])])]),a("div",{staticClass:"client_box"},[a("span",[t._v("离开网关")]),a("div",{staticClass:"list_box"},[a("div",{staticClass:"list_item"},[a("span",[t._v("开始时间")]),a("span",[t._v(t._s(t.itemData.gw_end_time||"--"))])]),a("div",{staticClass:"list_item"},[a("span",[t._v("基准时间")]),a("span",[t._v(t._s(t.itemData.gw_end_relative_time||"--"))])])])])])])])},e=[],n=(i("a481"),{components:{WoolShowmodal:function(){return i.e("chunk-41c82f40").then(i.bind(null,"59c5"))}},props:{isshow:{type:Boolean,default:!1},id:{type:String,default:""}},watch:{isshow:function(t){console.log(this.id),1==t&&this.getTrace()}},data:function(){return{serviceDetail:{root:{children:[]}},showCd1:!1,showCd2:!1,itemData:{}}},methods:{closeShowModel:function(){Object.assign(this.$data,this.$options.data()),this.$emit("tapCloser")},getTrace:function(){var t=this;this.$wf.post("devops?method=/devops/tracer/get",{id:this.id}).then((function(s){t.serviceDetail=s,t.serviceDetail.root=Object.assign(s.root,t.handleData(s.root)),t.itemData=t.serviceDetail.root})).catch((function(s){t.$wool.showwarn(s)}))},handleData:function(t){return null!=t.gw_start_time&&(t.gw_start_time=t.gw_start_time.Format()),null!=t.ms_start_time&&(t.ms_start_time=t.ms_start_time.Format()),null!=t.gw_end_time&&(t.gw_end_time=t.gw_end_time.Format()),null!=t.ms_end_time&&(t.ms_end_time=t.ms_end_time.Format()),t},handleJJ:function(t){"root"==t?(this.showCd1=!this.showCd1,this.$nextTick((function(){for(var t=document.getElementsByClassName("childrens"),s=document.getElementsByClassName("gateway_time")[0],i=(s.innerText.replace(/[^0-9]/gi,""),0);i<t.length;i++)t[i].style.width="100%"}))):"children"==t&&(this.showCd2=!this.showCd2)},clickTag:function(t){"string"==typeof t.gw_start_time||"string"==typeof t.gw_end_time||"string"==typeof t.ms_start_time||"string"==typeof t.ms_end_time?this.itemData=t:this.itemData=Object.assign(t,this.handleData(t))},clickRoot:function(t){this.itemData=t}},mounted:function(){Date.prototype.Format=function(){var t=this.getFullYear(),s=this.getMonth()+1;s=s<10?"0"+s:s;var i=this.getDate();i=i<10?"0"+i:i;var a=this.getHours();a=a<10?"0"+a:a;var e=this.getMinutes();e=e<10?"0"+e:e;var n=this.getSeconds();n=n<10?"0"+n:n;var l=this.getMilliseconds();return t+"-"+s+"-"+i+" "+a+":"+e+":"+n+"."+l}}}),l=n,o=(i("5d52"),i("2877")),c=Object(o["a"])(l,a,e,!1,null,"60eb0690",null);s["default"]=c.exports},"6e57":function(t,s,i){},b1d9:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABACAYAAABm8Es1AAACCklEQVR4Xu3asU7CUBgF4J+NBtM3gIEFSXCEBUzoysKCI6+BzyCPIQ9g2SSRiMjAwlAWUoJvwMAEYdKURBc096ccrwRP5/+e9n45QLhpYrF4exdeEIEEMSGOuxBi4iyJCbQkJjGRAsAsfmcSEygAjGIziQkUAEaxmcQECgCj2ExiAgWAUWwmMYECwCg2879grlYrmU4DGY/HUi5XJJNJSzqdAW4fG3XSzfT9B5nP5187LhSupFarYQWAaSeN2W7f7W211boFbh8bRUygJzGJCRQARrGZxAQKAKPYTGICBYBRbCYxgQLAKKvNjP4aLpdL9eOPRq97s5XKtXq94ziSz+clmUyq1xwzaA2z13uUIAiOedZYa13XlWazKanURaz1hyyyghmGoXS7/iHPBZ31PE+KxRI087swK5iTyUT6/adf38xPN6hWPSmVzgRzs9lIp3Mv0fmk7evsPuYR4Ha7ldlsJuv1Wu3JHyA1lXmQ55lmI/UEMdVU5kFimo3UE8RUU5kHiWk2Uk8QU01lHiSm2Ug9QUw1lXmQmGYj9QQx1VTmweHwZfee0eeVzWal0bgxL/yjCSunRnH3Fh2MDAbPu/eNcrlLqdfrcaOsrDtpTCsCwJsQk5hAAWAUm0lMoAAwis0kJlAAGMVmEhMoAIxiM4kJFABGsZnEBAoAo9hMYgIFgFFsJjGBAsCoD3RUb1AdW/hgAAAAAElFTkSuQmCC"}}]);